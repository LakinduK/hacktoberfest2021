const darkSwitch = document.getElementById("darkSwitch");
const text = document.querySelector('.text-dark');


function initTheme() {
  const e =
    null != localStorage.getItem("darkSwitch") &&
    "dark" == localStorage.getItem("darkSwitch");
   if(darkSwitch.checked = e)
      {
        document.body.setAttribute("data-theme", "dark")
      }
      else{
        document.body.removeAttribute("data-theme");
      } 
}

function resetTheme() {
  
 if(darkSwitch.checked) 
    {
      (document.body.setAttribute("data-theme", "dark"),
      localStorage.setItem("darkSwitch", "dark"))
      text.innerHTML="Dark Theme";
    } 
    else {
      (document.body.removeAttribute("data-theme"),
      localStorage.removeItem("darkSwitch"));
      text.innerHTML='Dark Theme';
    }
     
}

window.addEventListener("load", () => {
  darkSwitch &&
    (initTheme(),
    darkSwitch.addEventListener("change", () => {
      resetTheme();
    }));
});
